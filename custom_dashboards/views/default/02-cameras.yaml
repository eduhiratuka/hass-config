title: Surveillance Cameras
path: surveillance-cameras
icon: mdi:cctv
type: custom:grid-layout
layout:
    grid-template-columns: 100%
    grid-template-rows: auto
    grid-template-areas: |
        "cameras-dashboard"
cards:
  - type: "custom:mod-card"
    card:
        type: "custom:layout-card"
        layout_type: custom:grid-layout
        layout:
            grid-template-columns: 70% 30%
            grid-template-rows: 34% 33% 33%
            grid-template-areas: |
                "camera-main camera-1"
                "camera-main camera-2"
                "camera-main camera-3"
            height: calc(100vh - 56px - 24px)
            mediaquery:
                "(orientation: portrait)":
                    grid-template-columns: 34% 33% 33%
                    grid-template-rows: min-content auto
                    grid-template-areas: |
                        "camera-main camera-main camera-main"
                        "camera-1 camera-2 camera-3"
                    height: 100%
        cards:
          - type: 'custom:decluttering-card'
            template: generic_camera_template
            variables:
              - camera_url: 'frente_camera_da_garagem'
              - camera_name: 'Frente: Câmera da Garagem'
              - camera_destacada_entity: 'select.frontend_cameras_destaque_atual'
              - atalhos_extra:
                    name: "Secret"
                    icon: mdi:key-chain
            view_layout:
                grid-area: camera-main
          - type: 'custom:decluttering-card'
            template: generic_camera_template
            variables:
              - camera_url: 'frente_camera_da_lateral'
              - camera_name: 'Frente: Câmera da Lateral'
              - camera_destacada_entity: 'select.frontend_cameras_destaque_atual'
            view_layout:
                grid-area: camera-1
          - type: 'custom:decluttering-card'
            template: generic_camera_template
            variables:
              - camera_url: 'fundos_camera_da_piscina'
              - camera_name: 'Fundos: Câmera da Piscina'
              - camera_destacada_entity: 'select.frontend_cameras_destaque_atual'
            view_layout:
                grid-area: camera-2
          - type: 'custom:decluttering-card'
            template: generic_camera_template
            variables:
              - camera_url: 'fundos_camera_do_quintal'
              - camera_name: 'Fundos: Câmera do Quintal'
              - camera_destacada_entity: 'select.frontend_cameras_destaque_atual'
            view_layout:
                grid-area: camera-3
    card_mod:
      style:
        layout-card $ grid-layout $ div decluttering-card:
          $: |
              #root {
                  height: 100%;
              }
        layout-card $ grid-layout $: |
            {% set camera_destaque = states('select.frontend_cameras_destaque_atual') %}

            {% if camera_destaque == 'Frente: Câmera da Garagem' %}
                {% set camera_area_list = ['camera-main', 'camera-1', 'camera-2', 'camera-3'] %}
            {% elif camera_destaque == 'Frente: Câmera da Lateral' %}
                {% set camera_area_list = ['camera-1', 'camera-main', 'camera-2', 'camera-3'] %}
            {% elif camera_destaque == 'Fundos: Câmera da Piscina' %}
                {% set camera_area_list = ['camera-1', 'camera-2', 'camera-main', 'camera-3'] %}
            {% elif camera_destaque == 'Fundos: Câmera do Quintal' %}
                {% set camera_area_list = ['camera-1', 'camera-2', 'camera-3', 'camera-main'] %}
            {% endif %}

            {% for camera_area in camera_area_list %}
                #root>*:nth-child({{ loop.index }}) {
                    grid-area: {{ camera_area }} !important;
                }
            {% endfor %}